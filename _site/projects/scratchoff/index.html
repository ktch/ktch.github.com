<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>A Scratchoff for the Mobile Web</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/modernizr-2.5.3.min.js"></script>
	<script type="text/javascript" src="http://use.typekit.com/sca6isw.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>

<body>
	
<nav>
	<div>
	<a href="/"><img id="ktchlogo" src="/kitchenlogo.png"></a>
	<ul class="museo">
		<li><a href="/projects">projects</a></li>
		<li><a href="/ideas">ideas</a></li>
		<li><a href="/work">work</a></li>
		<li><a href="/workflows">tools</a></li>
		<li><a href="/contact">contact</a></li>
	</ul>
		
	<a href="http://www.topoftree.jp/en/tree/">
	<aside id="ad">
		<img src="/ads/tree.png" alt="Tree Icon">
		<p>Tree lets you look at your outlines in a whole new way.</p>
	</aside>
	</a>
	
	<p id="adhead">free promotion for folks we love</p>
	
	</div>
</nav>

<section id="main">
	
<iframe src="http://player.vimeo.com/video/44545692" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<section class="post">

<h1 class="posttitle league">A Scratchoff for the Mobile Web</h1>

<p class="byline">posted by <a href="/phillips">Zach Phillips</a>

While working on [the mobile sweepstakes promotion for the Atlanta Hawks and British Petroleum](/work/bp-hawks), it became evident pretty quickly that this could be a good fit for a lot of companies, so we built a subdomain-based Rails app.

The first thing we had to do was find a way to leverage touch and the HTML5 canvas for creating the scratchoff (or more accurately, wipe-away or eraser) capability. It would need to function well on both iOS and Android, the two leaders in the handset market. The rest of the players are pretty hit or miss in terms of web standards support, but luckily, their marketshare is also pretty pitiful, and so we felt safe to ignore them. It's worth noting that there's a ton of fragmentation within Android itself, and so we couldn't guarantee blanket support across the hundreds of devices in that category, but our testing showed support on every device we tried, some of them as old as three years, and the vast majority running 2.3.

Our savior was a frenchman (or Belgian?) who goes by the handle of [@boblemarin](http://twitter.com/boblemarin). He had created a jQuery plugin called [jQuery.eraser](http://minimal.be/lab/jQuery.eraser/), which takes any image pass in and turns it into an HTML5 canvas element erasable by both cursor and (most importantly for us) touch.

We only had to make a few tweaks to the code, allowing it to use images optimized for Retina displays, and the result was really fun. I found myself playing it over and over simply because it was fun to scratch off the image. It really feels like a native app running in the iPhone's browser.

The rest of the process entailed figuring out how to return a _weighted_ random result (weighted by the odds of winning each prize) and using cookies and some server-side code to prevent abuse.

[mobilezen](http://mobilezen.com) (my first client after going independent three years ago) offered to go into a partnership where they would handle the sales, billing, and support, so the Kitchen could focus only on making the game as awesome as it could be.

It's been sold several times since then, but we're still looking for a big client who wants to take their mobile game to the next level. You see sweepstakes games on virtually every soda bottle and fast food cup in the world, but they're usually terrible experiences where you have to go to some website and type in a 419 digit alphanumeric code to find out whether you've won a _chance_ to win a backpack or something like that. The immediacy and touchability of [Scratchoff.me](http://scratchoff.me) is a greatly superior experience and really gives customers something fun to do and a tremendously positive brand impression.

<p class="dateline">Posted Monday, June 18</p>

</section>	
</section>


<footer>
	<!-- <h6 class="league construction">We're under construction. Come back soon.</h6> -->
</footer>

</body>



<!-- JavaScript at the bottom for fast page loading -->

<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
<script src="/js/jquery-1.7.1.min.js"></script>
<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>


<!-- scripts concatenated and minified via ant build script-->
<script defer src="/js/plugins.js"></script>
<script defer src="/js/script.js"></script>

<script>
  $(document).ready(function(){
    $("#main").fitVids();
  });
</script>

<!-- end scripts-->


<!-- Change UA-XXXXX-X to be your site's ID -->
<script>
  window._gaq = [['_setAccount','UA-26223809-3'],['_trackPageview'],['_trackPageLoadTime']];
  Modernizr.load({
    load: ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js'
  });
</script>


<!-- Prompt IE 6 users to install Chrome Frame. Remove this if you want to support IE 6.
     chromium.org/developers/how-tos/chrome-frame-getting-started -->
<!--[if lt IE 7 ]>
  <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
  <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
<![endif]-->

</html>